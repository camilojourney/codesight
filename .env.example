# codesight v0.3 environment variables
# Copy to .env and fill in values (or set in your shell)

# ---------------------------------------------------------------------------
# LLM Backend (for ask() answer synthesis)
# ---------------------------------------------------------------------------

# Which LLM backend to use: claude, azure, openai, ollama
# Default: claude
CODESIGHT_LLM_BACKEND=claude

# Claude (default)
ANTHROPIC_API_KEY=sk-ant-...

# Azure OpenAI (data stays in client's Azure tenant)
# CODESIGHT_LLM_BACKEND=azure
# AZURE_OPENAI_ENDPOINT=https://mycompany.openai.azure.com/
# AZURE_OPENAI_API_KEY=...
# AZURE_OPENAI_DEPLOYMENT=gpt-4o

# OpenAI
# CODESIGHT_LLM_BACKEND=openai
# OPENAI_API_KEY=sk-...

# Ollama (100% local, zero network)
# CODESIGHT_LLM_BACKEND=ollama
# OLLAMA_MODEL=llama3.1
# OLLAMA_BASE_URL=http://localhost:11434

# ---------------------------------------------------------------------------
# Embedding Model
# ---------------------------------------------------------------------------

# Local embedding model (sentence-transformers)
# Options: sentence-transformers/all-MiniLM-L6-v2 (default, 384d),
#          nomic-ai/nomic-embed-text-v1.5 (768d, recommended upgrade),
#          mixedbread-ai/mxbai-embed-large-v1 (1024d),
#          jinaai/jina-embeddings-v2-base-code (768d, best for code)
CODESIGHT_EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2

# Embedding backend: local (default) or api (OpenAI)
# API requires OPENAI_API_KEY
CODESIGHT_EMBEDDING_BACKEND=local

# ---------------------------------------------------------------------------
# Cross-Encoder Reranking (optional, improves precision)
# ---------------------------------------------------------------------------

# Enable reranking after RRF merge: true or false
# Default: false (zero overhead when disabled)
CODESIGHT_RERANKER=false

# Reranker model: cross-encoder/ms-marco-MiniLM-L-6-v2 (80MB, fast)
# Alternative: cross-encoder/ms-marco-MiniLM-L-12-v2 (better quality)
CODESIGHT_RERANKER_MODEL=cross-encoder/ms-marco-MiniLM-L-6-v2

# How many RRF results to feed to the reranker (default: 20)
CODESIGHT_RERANKER_TOP_N=20

# ---------------------------------------------------------------------------
# Storage & Indexing
# ---------------------------------------------------------------------------

# Directory where search indexes are stored
# Default: ~/.codesight/data
CODESIGHT_DATA_DIR=~/.codesight/data

# Staleness threshold in seconds (auto-refresh if older)
# Default: 300 (5 minutes)
CODESIGHT_STALE_SECONDS=300

# ---------------------------------------------------------------------------
# Logging
# ---------------------------------------------------------------------------

# Log level: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO
